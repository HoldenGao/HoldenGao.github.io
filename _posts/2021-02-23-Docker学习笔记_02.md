---
layout: post
title: Docker学习笔记_02
tags: [docker]
comments: true
thumbnail-img: "/assets/img/blog/image-20210222221837933.png"
share-img: ""
---

[toc]

书接上回。

```shell
#阿里云系统内核
[root@gaoyang ~]# uname -r
3.10.0-514.26.2.el7.x86_64
```

```shell
#系统版本
[root@gaoyang ~]# cat /etc/os-release 
NAME="CentOS Linux"
VERSION="7 (Core)"
ID="centos"
ID_LIKE="rhel fedora"
VERSION_ID="7"
PRETTY_NAME="CentOS Linux 7 (Core)"
ANSI_COLOR="0;31"
CPE_NAME="cpe:/o:centos:centos:7"
HOME_URL="https://www.centos.org/"
BUG_REPORT_URL="https://bugs.centos.org/"

CENTOS_MANTISBT_PROJECT="CentOS-7"
CENTOS_MANTISBT_PROJECT_VERSION="7"
REDHAT_SUPPORT_PRODUCT="centos"
REDHAT_SUPPORT_PRODUCT_VERSION="7"

```



### 1.安装Docker，参考<https://docs.docker.com/engine/install/centos/>

```shell
#卸载旧的docker版本。如果是第一次安装，那么该步忽略
#一共有三种安装方式：1.通过仓库安装（推荐），后续利于更新；2.通过RPM包离线安装；3.通过脚本安装。下边是用第一种方式安装的。
#Before you install Docker Engine for the first time on a new host machine, you need to set up the Docker repository. Afterward, you can install and update Docker from the repository.
#1. 所需安装包
yum install -y yum-utils
#2. 安装镜像仓库
yum-config-manager \
    --add-repo \
    https://download.docker.com/linux/centos/docker-ce.repo #默认是国外的yum源
    
yum-config-manager \
    --add-repo \
    http://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo #百度查找docker阿里云镜像地址（推荐）
    
#3. 更新yum软件包索引
#将服务器上的软件包信息 现在本地缓存,以提高 搜索 安装软件的速度
yum makecache fast

#4. 安装最新版Docker  docker-ce 社区版本。 docker-ee 企业版本. 还可以安装特定版本的docker
yum install docker-ce docker-ce-cli containerd.io #最新版
yum install docker-ce-<VERSION_STRING> docker-ce-cli-<VERSION_STRING> containerd.io #指定版本

#5. 启动docker
systemctl start docker

#6. 查看docker版本
[root@gaoyang ~]# docker version
Client: Docker Engine - Community
 Version:           20.10.3
 API version:       1.41
 Go version:        go1.13.15
 Git commit:        48d30b5
 Built:             Fri Jan 29 14:34:14 2021
 OS/Arch:           linux/amd64
 Context:           default
 Experimental:      true

Server: Docker Engine - Community
 Engine:
  Version:          20.10.3
  API version:      1.41 (minimum version 1.12)
  Go version:       go1.13.15
  Git commit:       46229ca
  Built:            Fri Jan 29 14:32:37 2021
  OS/Arch:          linux/amd64
  Experimental:     false
 containerd:
  Version:          1.4.3
  GitCommit:        269548fa27e0089a8b8278fc4fc781d7f65a939b
 runc:
  Version:          1.0.0-rc92
  GitCommit:        ff819c7e9184c13b7c2607fe6c30ae19403a7aff
 docker-init:
  Version:          0.19.0
  GitCommit:        de40ad0

#7. 查看引擎是否启动
docker run hello-world

#8. 查看镜像hello-world
[root@gaoyang ~]# docker images
REPOSITORY    TAG       IMAGE ID       CREATED         SIZE
hello-world   latest    bf756fb1ae65   13 months ago   13.3kB

```

**yum 主要的一下命令如下:**

> yum search 软件包   搜索软件包
> yum install 软件包   安装软件包
> yum remove 软件包
> yum update  更新系统













